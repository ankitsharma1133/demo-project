node('jenkins-slave') {
      
   
           stage("Cloning Repository from branch"){
            git branch: 'jenkins',
			url: 'https://github.com/ankitsharma1133/demo-project.git'
		
        }
        
        
     stage('unit-tests') {
        sh(script: """
            echo 'Hello world! on cli ' 
            export AZURE_CONFIG_DIR='/home/jenkins/.azure'
             az account set --subscription "5fdcad60-7b99-4893-a86b-1267f6fa9927"
az acr login -n GCXACRSTAG --expose-token
pwd
checkout([$class: 'GitSCM', branches: [[name: '*/jenkins']], extensions: [], userRemoteConfigs: [[url: 'https://github.com/ankitsharma1133/demo-project.git']]])
ls -la
ls -la ../
ls -la ../..
az acr build --image sample/hello-world:v1 --registry GCXACRSTAG  .

        """)
    }
}
